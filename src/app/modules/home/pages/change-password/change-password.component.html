<section class="breadcrumb-area">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 animated slideInRight wow">
        <div class="breadcrumb-area-content">
          <h1>Đổi mật khẩu</h1>
        </div>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb breadcrumb-bg">
            <li class="breadcrumb-item">
              <a href="#">Trang chủ</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Đổi mật khẩu</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</section>

<section class="transformers-area">
  <div class="container">
    <div class="row flexbox-center c-padding-b20 animated slideInRight wow">
      <div class="col-lg-6 text-center text-lg-left">
        <div class="section-title">
          <h1>
            <i class="icofont icofont-movie"></i> Đổi mật khẩu</h1>
        </div>
      </div>
      <div class="col-lg-6 text-center text-lg-right">
      </div>
    </div>
    <div class="transformers-box">
      <div class="row flexbox-center">
        <div class="col-lg-5 text-lg-left text-center animated slideInLeft wow">
          <div class="transformers-content">
            <img src="../../../../../assets/img/backgrounds/change-password.jpg" alt="about" />
          </div>
        </div>
        <div class="col-lg-7 animated slideInRight wow">
          <div class="transformers-content c-padding-t-20">
            <h2>The Movie Point</h2>
            <p>Moive | 2D | 3D | Sci-Fi | SBS</p>
            <div class="details-reply" *ngIf="!isSuccessfully">
              <div class="info-error" *ngIf="hasError">Tài khoản hoặc mật khẩu không đúng</div>
              <div class="info-error" *ngIf="oldPasswordError">Mật khẩu cũ không đúng</div>
              <div class="info-error" *ngIf="otpError">Mật khẩu cũ không đúng</div>
              <div class="info-error" *ngIf="hasErrorPasswordNew">Mật khẩu cũ không đúng</div>
              <div class="transformers-content c-padding-t-20">
                <form action="#" [formGroup]="updateForm" name="updateForm" novalidate>
                  <div class="row">
                    <div class="col-lg-6">
                      <div class="select-container">
                        <input type="text" placeholder="Tên đăng nhập" name="+account" id="account" formControlName="account" [ngClass]="{'has-error': account.invalid && (account.dirty || account.touched)}"
                        />
                        <i class="icofont icofont-ui-user"></i>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="select-container">
                        <input type="text" placeholder="Họ tên" name="username" id="username" formControlName="username" [ngClass]="{'has-error': username.invalid && (username.dirty || username.touched)}"
                        />
                        <i class="icofont icofont-ui-user"></i>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="select-container">
                        <div *ngIf="!isShowOtpverify" class="animated bounce wow">
                          <input type="password" placeholder="Mật khẩu cũ" name="oldPassword" id="oldPassword" formControlName="oldPassword" [ngClass]="{'has-error': oldPassword.invalid && (oldPassword.dirty || oldPassword.touched)}"
                          />
                          <i class="icofont icofont-ui-password"></i>
                        </div>
                        <div *ngIf="isShowOtpverify" class="animated bounce wow">
                          <input type="text" placeholder="Nhập otp 6 số" name="otpNumber" id="otpNumber" formControlName="otpNumber" [ngClass]="{'has-error': otpNumber.invalid && (otpNumber.dirty || otpNumber.touched)}"
                          />
                          <i class="icofont icofont-ui-password"></i>
                        </div>
                      </div>

                      <div class="display-password-confirm">Sử dụng
                        <span style="cursor: pointer;text-decoration: underline" (click)="useOtpVerify()" *ngIf="isShowOtpverify">mật khẩu</span>
                        <span style="cursor: pointer;text-decoration: underline" (click)="useOtpVerify()" *ngIf="!isShowOtpverify">mã xác thực</span>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="select-container">
                        <input type="password" placeholder="Mật khẩu" name="password" id="password" formControlName="password" maxlength="32" [ngClass]="{'has-error': password.invalid && (password.dirty || password.touched)}"
                        />
                        <i class="icofont icofont-ui-password"></i>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="select-container">
                        <input type="password" maxlength="32" placeholder="Nhập lại mật khẩu" name="passwordConFirm" id="passwordConFirm" formControlName="passwordConFirm"
                          [ngClass]="{'has-error': passwordConFirm.invalid && (passwordConFirm.dirty || passwordConFirm.touched)}"
                        />
                        <i class="icofont icofont-ui-password"></i>
                      </div>
                      <div class="display-password-confirm" *ngIf="updateForm.controls.passwordConFirm.errors?.MatchPassword">Mật khẩu nhập lại chưa khớp</div>
                    </div>
                    <div class="col-lg-6">
                      <div class="select-container">
                        <input type="email" placeholder="Email" name="email" id="email" formControlName="email" [ngClass]="{'has-error': email.invalid && (email.dirty || email.touched)}"
                        />
                        <i class="icofont icofont-ui-email"></i>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="select-container">
                        <input type="text" placeholder="Số điện thoại" name="phoneNumber" id="phoneNumber" formControlName="phoneNumber" [ngClass]="{'has-error': phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)}"
                        />
                        <i class="icofont icofont-smart-phone"></i>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-12 row-flex">
                      <div>
                        <button type="button" class="theme-btn" [disabled]="formIsSubmitting" (click)="updateUser()">Cập nhật</button>
                      </div>
                      <div class="loader" *ngIf="formIsSubmitting"></div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="details-reply" *ngIf="isSuccessfully">
            <h4 style="margin-bottom: 15px">Chúc mừng {{updateNameUser}}</h4>
            <p style="margin-bottom: 15px">Bạn vừa cập nhật thành công tài khoản tại Movie Point</p>
          </div>
        </div>

      </div>

    </div>

  </div>
</section>
<!-- transformers area end -->
<div class="hidden-field">
  <input type="text" size="30" name="secret" id="secret" class="xlarge" #secret [value]="secretKey" />
  <div class="clearfix">
    <label>One-time Password</label>
    <div class="input">
      <span class="label label-primary" id='otp' #otp></span>
    </div>
  </div>

</div>
